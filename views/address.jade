extends layout

block content
  .container.very-spaced
    h1.text-center
      | My
      span.holo Chain
    form(role="search", action="http://mychain.io/search")
      .form-group
        input.form-control.spaced(type="text", placeholder="Search for an address, transaction, or block", name="q" value=address.address)
    h3.text-center.fairly-spaced
      | Address: 
      a(href='http://mychain.io/address/'+address.address) #{address.address}
    table.table.table-striped.spaced
      thead
        tr
          th(colspan=2) Calculated output summary
      tbody
        tr
          td Unspent output count:
          td
            | #{address.unspentCount}
            if address.unspentUnconfirmedCount > 0
              |  (#{address.unspentUnconfirmedCount} unconfirmed)
        tr
          td Unspent output amount:
          td
            | #{address.unspentTotal}
            if address.unspentUnconfirmedTotal > 0
              |  (#{address.unspentUnconfirmedTotal} unconfirmed)
            |  BTC
        tr
          td Spent output count:
          td
            | #{address.spentCount}
            if address.spentUnconfirmedCount > 0
              |  (#{address.spentUnconfirmedCount} unconfirmed)
        tr
          td Spent output amount:
          td
            | #{address.spentTotal}
            if address.spentUnconfirmedTotal > 0
              |  (#{address.spentUnconfirmedTotal} unconfirmed)
            |  BTC
    table.table.table-striped.spaced
      thead
        tr
          th(colspan=3) Outputs
      tbody
        if address.outputs.length == 0
          tr
            td No corresponding outputs were found.
            td
            td
        each output, i in address.outputs
          tr
            td #{i}
            td Value:
            td #{output.value} BTC
          tr
            td
            td ScriptPubKey:
            td #{output.scriptPubKey.asm}
          tr
            td
            td Txid:
            td: a(href='http://mychain.io/tx/'+output.txid) #{output.txid}
          tr
            td
            td Tx output index:
            td #{output.vout}
          tr
            td
            td Confirmations:
            td #{output.confirmations}
          tr
            td
            td Spent:
            if output.isSpent
              td True
            else
              td False
          if output.isSpent
            tr
              td
              td Claimed in txid:
              td #{output.claimedTxid}